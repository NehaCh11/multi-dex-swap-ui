{"version":3,"file":"helpers.js","sources":["../../../../../../src/pools/gyroHelpers/helpers.ts"],"sourcesContent":["import { BigNumber, parseFixed } from '@ethersproject/bignumber';\nimport { WeiPerEther as ONE } from '@ethersproject/constants';\n\n////////\n/// Normalize balances\n////////\nexport function _normalizeBalances(\n    balances: BigNumber[],\n    decimals: number[]\n): BigNumber[] {\n    const scalingFactors = decimals.map((d) => parseFixed('1', d));\n\n    return balances.map((bal, index) =>\n        bal.mul(ONE).div(scalingFactors[index])\n    );\n}\n\n/////////\n/// Fee calculations\n/////////\n\nexport function _reduceFee(amountIn: BigNumber, swapFee: BigNumber): BigNumber {\n    const feeAmount = amountIn.mul(swapFee).div(ONE);\n    return amountIn.sub(feeAmount);\n}\n\nexport function _addFee(amountIn: BigNumber, swapFee: BigNumber): BigNumber {\n    return amountIn.mul(ONE).div(ONE.sub(swapFee));\n}\n"],"names":["_normalizeBalances","balances","decimals","scalingFactors","map","d","parseFixed","bal","index","mul","ONE","div","_reduceFee","amountIn","swapFee","feeAmount","sub","_addFee"],"mappings":"6GAMgB,SAAAA,EACZC,EACAC,GAEA,MAAMC,EAAiBD,EAASE,KAAKC,GAAMC,EAAW,IAAKD,KAE3D,OAAOJ,EAASG,KAAI,CAACG,EAAKC,IACtBD,EAAIE,IAAIC,GAAKC,IAAIR,EAAeK,KAExC,CAMgB,SAAAI,EAAWC,EAAqBC,GAC5C,MAAMC,EAAYF,EAASJ,IAAIK,GAASH,IAAID,GAC5C,OAAOG,EAASG,IAAID,EACxB,CAEgB,SAAAE,EAAQJ,EAAqBC,GACzC,OAAOD,EAASJ,IAAIC,GAAKC,IAAID,EAAIM,IAAIF,GACzC"}