import{MathSol as e,BZERO as n}from"../../utils/basicOperations.js";function t(n,t,r,i,u){if(i==BigInt(0))return s(n,u);const o=s(t,u),d=s(t+n,u)-o,c=a(o,r,u);return e.divDown(e.mul(i,d),c)}function r(n,t,r,i,u){const o=s(t,u),d=o-s(t-n,u),c=m(o,r,u);return e.divUp(e.mul(i,d),c)}function i(n,t,r,i,u){const o=s(t,u),d=a(o,r,u),c=m(o,r-n,u);return i-e.divDown(e.mul(i,c),d)}function u(n,t,r,i,u){const o=s(t,u),d=s(t+n,u)-o;return e.divDownFixed(d,u.rate)}function o(n,t,r,i,u){const o=s(t,u)-s(t-n,u);return e.divUpFixed(o,u.rate)}function d(n,t,r,i,u){if(i==BigInt(0))return v(n,u);const o=s(t,u),d=a(o,r,u);return v(o+e.divUp(e.mul(d,n),i),u)-t}function c(n,t,r,i,u){const o=s(t,u),d=m(o,r,u);return t-v(o-e.divDown(e.mul(d,n),i),u)}function f(n,t,r,i,u){return t-v(s(t,u)-e.mulDownFixed(n,u.rate),u)}function p(n,t,r,i,u){return v(s(t,u)+e.mulUpFixed(n,u.rate),u)-t}function l(n,t,r,i,u){if(i==BigInt(0))return e.mulDownFixed(n,u.rate);const o=s(t,u),d=a(o,r,u),c=m(o,r+n,u);return e.divDown(e.mul(i,c),d)-i}function x(n,t,r,i,u){if(i==BigInt(0))return e.divUpFixed(n,u.rate);const o=s(t,u),d=a(o,r,u),c=i+n;return e.divUpFixed(e.divUp(e.mul(c,d),i)-o,u.rate)-r}function F(n,t,r,i,u){const o=s(t,u),d=a(o,r,u),c=i-n;return r-e.divUpFixed(e.divUp(e.mul(c,d),i)-o,u.rate)}function a(n,t,r){return n+e.mulUpFixed(t,r.rate)}function m(n,t,r){return n+e.mulDownFixed(t,r.rate)}function s(n,t){if(n<t.lowerTarget){const r=e.mulDownFixed(t.lowerTarget-n,t.fee);return e.sub(n,r)}if(n<=t.upperTarget)return n;{const r=e.mulDownFixed(n-t.upperTarget,t.fee);return e.sub(n,r)}}function v(n,t){return n<t.lowerTarget?e.divDownFixed(n+e.mulDownFixed(t.fee,t.lowerTarget),e.ONE+t.fee):n<=t.upperTarget?n:e.divDownFixed(n-e.mulDownFixed(t.fee,t.upperTarget),e.ONE-t.fee)}function U(n,t){const r=e.complementFixed(t.fee),i=e.ONE+t.fee;return n<=t.lowerTarget?i:n<=t.upperTarget?e.ONE:r}function w(n,t){const r=e.complementFixed(t.fee),i=e.ONE+t.fee;return n<t.lowerTarget?i:n<t.upperTarget?e.ONE:r}function g(n,t){const r=e.complementFixed(t.fee),i=e.ONE+t.fee;return n<=t.lowerTarget?e.divUpFixed(e.ONE,i):n<=t.upperTarget?e.ONE:e.divUpFixed(e.ONE,r)}function D(n,t){const r=e.complementFixed(t.fee),i=e.ONE+t.fee;return n<t.lowerTarget?e.divUpFixed(e.ONE,i):n<t.upperTarget?e.ONE:e.divUpFixed(e.ONE,r)}function O(t,r,i,u){const o=e.divDownFixed(r,i),d=new Array(t.length).fill(n);for(let n=0;n<t.length;n++)n!=u&&(d[n]=e.mulDownFixed(t[n],o));return d}function E(n,t,r,i,u){const o=n+t,d=m(s(t,u),r,u);let c=e.ONE;return i!=BigInt(0)&&(c=e.divUpFixed(d,i)),e.divUpFixed(c,w(o,u))}function N(n,t,r,i,u){const o=s(t,u),d=m(o,r,u);let c=e.ONE;i!=BigInt(0)&&(c=e.divUpFixed(d,i));const f=o+e.mulUpFixed(n,c);return e.mulUpFixed(c,D(f,u))}function T(n,t,r,i,u){const o=s(t,u),d=m(o,r,u),c=e.divDownFixed(d,i),f=e.mulDownFixed(n,c),p=e.sub(o,f);return e.divUpFixed(e.ONE,e.mulUpFixed(c,g(p,u)))}function B(n,t,r,i,u){const o=e.sub(t,n),d=m(s(t,u),r,u),c=e.divUpFixed(d,i);return e.divUpFixed(U(o,u),c)}function I(n,t,r,i,u){const o=s(t,u)+e.mulUpFixed(n,u.rate);return e.mulUpFixed(D(o,u),u.rate)}function b(n,t,r,i,u){const o=t-n;return e.divUpFixed(U(o,u),u.rate)}function h(n,t,r,i,u){return e.divDownFixed(u.rate,w(t+n,u))}function j(n,t,r,i,u){const o=s(t,u)-e.mulDownFixed(n,u.rate),d=e.mulUpFixed(g(o,u),u.rate);return e.divUpFixed(e.ONE,d)}function y(n,t,r,i,u){if(i==BigInt(0))return u.rate;const o=a(s(t,u),r,u);return e.divUpFixed(o,e.mulUpFixed(i,u.rate))}function A(n,t,r,i,u){const o=a(s(t,u),r,u);return e.divUp(e.mul(i,u.rate),o)}function k(n,t,r,i,u){if(i==BigInt(0))return e.divUpFixed(e.ONE,u.rate);const o=a(s(t,u),r,u);return e.divUpFixed(o,e.mulUpFixed(i,u.rate))}function q(n,t,r,i,u){const o=a(s(t,u),r,u);return e.divDown(e.mul(i,u.rate),o)}export{r as _calcBptInPerMainOut,i as _calcBptInPerWrappedOut,t as _calcBptOutPerMainIn,l as _calcBptOutPerWrappedIn,d as _calcMainInPerBptOut,p as _calcMainInPerWrappedOut,c as _calcMainOutPerBptIn,f as _calcMainOutPerWrappedIn,O as _calcTokensOutGivenExactBptIn,x as _calcWrappedInPerBptOut,o as _calcWrappedInPerMainOut,F as _calcWrappedOutPerBptIn,u as _calcWrappedOutPerMainIn,B as _spotPriceAfterSwapBptInPerMainOut,q as _spotPriceAfterSwapBptInPerWrappedOut,E as _spotPriceAfterSwapBptOutPerMainIn,y as _spotPriceAfterSwapBptOutPerWrappedIn,N as _spotPriceAfterSwapMainInPerBptOut,I as _spotPriceAfterSwapMainInPerWrappedOut,T as _spotPriceAfterSwapMainOutPerBptIn,j as _spotPriceAfterSwapMainOutPerWrappedIn,k as _spotPriceAfterSwapWrappedInPerBptOut,b as _spotPriceAfterSwapWrappedInPerMainOut,A as _spotPriceAfterSwapWrappedOutPerBptIn,h as _spotPriceAfterSwapWrappedOutPerMainIn};
//# sourceMappingURL=linearMath.js.map
